<!DOCTYPE html>
<div style="text-align: center; margin-top: 1.5rem; margin-bottom: 1rem;" *ngIf="filtered">
  <button mat-raised-button color="primary" (click)="showAllMovies()">
    Show All Movies
  </button>
</div>

<div style="padding-top: 3rem; display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center;">
  <mat-card *ngFor="let movie of movies" style="flex: 1 1 calc(300px); max-width: 300px;">
    <mat-card-header>
      <mat-card-title>{{ movie.title }}</mat-card-title>
    </mat-card-header>

    <img [src]="movie.imagePath" [alt]="movie.title" style="width: 100%; height: auto; padding-top: 0.5rem;" />

    <mat-card-actions>
      <!-- Genre button: still filters -->
      <button mat-button color="primary" style="margin: 0.5rem;" (click)="getGenre(movie.genre.name)">
        Genre: {{ movie.genre.name }}
      </button>

      <!-- Director button: opens dialog -->
      <button mat-button color="primary" (click)="openDirectorDialog(movie.director)">
        Director: {{ movie.director.name }}
      </button>

      <!-- Synopsis button: opens dialog -->
      <button mat-button color="primary" (click)="openSynopsisDialog(movie)">
        Synopsis
      </button>

      <!-- Favorite button -->
      <button mat-icon-button color="warn" (click)="toggleFavorite(movie)">
        <mat-icon>{{ isFavorite(movie) ? 'favorite' : 'favorite_border' }}</mat-icon>
      </button>
    </mat-card-actions>
  </mat-card>
</div>
